---
title: "R for Data Science Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

1.1 INTRODUCTION Plot fuel efficiency on highway against the car's engine size
```{r}
library(tidyverse)
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy))
```

1.2 AESTHETIC MAPPING Add aesthetic property to car's class

```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = class))
```

Set aesthetic properties of the geom manually - color outside aesthetics, don't convey info about variables

```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy), color = "blue"
)
```

1.3 FACETS Split your plot into facets, subplots that each display one subset of the data.

```{r}
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy)) +
facet_grid(drv ~ cyl)

ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy)) +
facet_grid(. ~ cyl)
```

1.4 GEOMETRIC OBJECTS Change geom in ggplot2 syntax and map aesthetic to a discrete variable to draw multiple objects.

```{r}
ggplot(data = mpg) +
geom_smooth(mapping = aes(x = displ, y = hwy)) 

ggplot(data = mpg) +
geom_smooth(mapping = aes(x = displ, y = hwy, color = drv),
show.legend = FALSE)
```
Display multiple geoms in the same plot, passing the mapping to ggplot().
```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
geom_point() +
geom_smooth()
```
Local data argument in a geom function overwrites the global mappings for that layer only.

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
geom_point(mapping = aes(color = class)) +
geom_smooth(
data = filter(mpg, class == "subcompact"),
se = FALSE
)

```
1.5 STATISTICAL TRANSFORMATIONS interchangeable bar chart plot and stat count for diamonds.
*This works because every geom has a default stat, and every stat has a default geom.*

```{r}
ggplot(data = diamonds) +
  geom_bar(mapping = aes(x = cut))
ggplot(data = diamonds) +
stat_count(mapping = aes(x = cut))

```
1.6 POSITION ADJUSTMENTS add color aesthetics to bar charts - map fill aesthetic to another variable, bars are automatically stacked
*question - what does "position" and "identity" truly mean? and why would overlap occur? pp. 28*
position = "identity" will place each object exactly where it falls in the context of the graph. This is not very useful for bars, because it overlaps them. To see that overlapping we either need to make the bars slightly transparent by setting alpha to a small value, or completely transparent by setting fill = NA:
```{r}
ggplot(data = diamonds) +
geom_bar(mapping = aes(x = cut, fill = clarity))
 
ggplot(
data = diamonds,
mapping = aes(x = cut, fill = clarity)
) +
geom_bar(alpha = 1/5, position = "identity")
ggplot(
data = diamonds,
mapping = aes(x = cut, color = clarity)
) +
geom_bar(fill = NA, position = "identity")

ggplot(
data = diamonds,
mapping = aes(x = cut, fill = clarity)
) +
geom_bar(position = "identity")
```
Position = â€œfill" is used for comparing proportion values; Position = "dodge" is used for comparing individual values
```{r}
ggplot(data = diamonds) +
geom_bar(
mapping = aes(x = cut, fill = clarity),
position = "fill"
)

ggplot(data = diamonds) +
geom_bar(
mapping = aes(x = cut, fill = clarity),
position = "dodge"
)
```
Add random noise to the plot to reveal spreads of data points using Position = "jitter"

```{r}
ggplot(data = mpg) +
geom_point(
mapping = aes(x = displ, y = hwy),
position = "jitter"
)
```
1.7 COORDINATE SYSTEM
The default coordinate system is the Cartesian coordinate system where the x and y position act independently to find the location of each point.

coord_flip () switches x and y position to avoid overlapping on x-axes.

```{r}
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) +
geom_boxplot()
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) +
geom_boxplot() +
coord_flip()
```
coord_polar() uses polar coordinates. Polar coordinates reveal an interesting connection between a bar chart and a Coxcomb
chart

```{r}
bar <- ggplot(data = diamonds) +
geom_bar(
mapping = aes(x = cut, fill = clarity),

) +
theme(aspect.ratio = 1) +
labs(x = NULL, y = NULL)
bar + coord_flip()
bar + coord_polar()
```


When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

